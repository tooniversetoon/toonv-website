<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>TOONIVERSE ‚Äî Meme ‚Ä¢ Fun ‚Ä¢ Community</title>
<meta name="theme-color" content="#0d0f17" />
<style>
  :root{--bg:#0d0f17;--card:#131726;--muted:#94a3b8;--text:#e5e7eb;--brand:#ffc83d;--accent:#5ad5ff;--success:#74ffba;--radius:14px;--shadow:0 10px 30px rgba(0,0,0,.35)}
  *{box-sizing:border-box} html,body{margin:0;height:100%;background:var(--bg);color:var(--text);font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
  a{color:inherit;text-decoration:none}
  .wrap{max-width:1100px;margin:0 auto;padding:20px}
  header{position:sticky;top:0;background:linear-gradient(to bottom,rgba(13,15,23,.9),rgba(13,15,23,.6));backdrop-filter:blur(10px);z-index:10;border-bottom:1px solid rgba(255,255,255,.06)}
  .nav{display:flex;align-items:center;justify-content:space-between;padding:14px 0}
  .brand{display:flex;gap:12px;align-items:center}
  .logo{width:40px;height:40px;border-radius:50%;background:radial-gradient(circle at 30% 30%,#59e,#3ad 60%,#159 100%);display:grid;place-items:center;box-shadow:var(--shadow)}
  .name{font-weight:800;letter-spacing:.3px}
  .pill{border:1px solid rgba(255,255,255,.12);padding:8px 12px;border-radius:999px;cursor:pointer}
  .pill[aria-current="true"]{background:var(--card)}
  .hero{position:relative;padding:70px 0 50px}
  .stars,.twinkle{position:absolute;inset:0;pointer-events:none}
  .stars{background:radial-gradient(800px 400px at 80% 20%, rgba(90,213,255,.08), transparent 60%),radial-gradient(700px 500px at 10% 80%, rgba(255,200,61,.07), transparent 60%)}
  .twinkle{background-image:radial-gradient(2px 2px at 10% 20%,#fff7 40%,transparent 41%),radial-gradient(2px 2px at 30% 70%,#fff6 40%,transparent 41%),radial-gradient(2px 2px at 70% 30%,#fff6 40%,transparent 41%),radial-gradient(2px 2px at 85% 60%,#fff6 40%,transparent 41%),radial-gradient(2px 2px at 55% 85%,#fff6 40%,transparent 41%);animation:twinkle 4s infinite linear;opacity:.6}
  @keyframes twinkle{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}
  .hero-grid{display:grid;grid-template-columns:1.1fr .9fr;gap:26px;align-items:center}
  @media (max-width:900px){.hero-grid{grid-template-columns:1fr}}
  .card{background:var(--card);border:1px solid rgba(255,255,255,.06);border-radius:var(--radius);padding:22px;box-shadow:var(--shadow)}
  .badge{display:inline-flex;gap:8px;align-items:center;background:rgba(90,213,255,.12);border:1px solid rgba(90,213,255,.25);color:#bff1ff;padding:6px 10px;border-radius:999px;font-size:12px;margin-bottom:14px}
  h1{font-size:42px;line-height:1.1;margin:8px 0 12px} p.lead{color:var(--muted);font-size:18px;margin:0 0 18px}
  .cta{display:flex;flex-wrap:wrap;gap:12px;margin-top:8px}
  .btn{background:linear-gradient(135deg,var(--brand),#ff9f1a);color:#1d1200;font-weight:800;border:none;border-radius:12px;padding:12px 16px;cursor:pointer}
  .btn.outline{background:transparent;color:var(--text);border:1px solid rgba(255,255,255,.15)}
  section{padding:28px 0} h2{font-size:26px;margin:0 0 12px}
  .grid{display:grid;gap:18px;grid-template-columns:repeat(3,1fr)} @media (max-width:900px){.grid{grid-template-columns:1fr}}
  .muted{color:var(--muted)} .chip{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12);padding:8px 12px;border-radius:999px}
  .art{aspect-ratio:1/1;border-radius:16px;background:radial-gradient(circle at 50% 42%, #3ad, #2563eb 45%, #0b2a77 65%),radial-gradient(200px 120px at 78% 22%, rgba(255,200,61,.55), transparent 60%),radial-gradient(180px 140px at 18% 80%, rgba(116,255,186,.45), transparent 60%);display:grid;place-items:center;position:relative;overflow:hidden}
  .orbit{position:absolute;border-radius:50%;border:1px dashed rgba(255,255,255,.2);animation:spin 18s linear infinite}
  .orbit.one{width:86%;height:86%}.orbit.two{width:66%;height:66%;animation-duration:12s}
  .face{font-size:92px;filter: drop-shadow(0 6px 20px rgba(0,0,0,.45))}
  @keyframes spin{to{transform:rotate(360deg)}}
  .gate .row{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
  .notice{background:rgba(255,200,61,.12);border:1px solid rgba(255,200,61,.35);padding:10px;border-radius:10px}
  .ok{background:rgba(116,255,186,.12);border:1px solid rgba(116,255,186,.35)}
  code.small{font-size:12px}
</style>
</head>
<body>
<header>
  <div class="wrap nav">
    <div class="brand"><div class="logo">üåç</div><div class="name">TOONIVERSE <span class="chip">$TOONV</span></div></div>
    <div>
      <button class="pill" id="en" aria-current="true">EN</button>
      <button class="pill" id="tr">TR</button>
    </div>
  </div>
</header>

<main class="wrap">
  <section class="hero">
    <div class="stars"></div><div class="twinkle"></div>
    <div class="hero-grid">
      <div class="card">
        <div class="badge">üé¨ <span data-i="badge">Endless cartoon cosmos</span></div>
        <h1 data-i="title">A living story on Solana</h1>
        <p class="lead" data-i="lead">Every holder becomes a character. Help us expand the Tooniverse with memes, fun and community.</p>
        <div class="cta">
          <a class="btn" href="https://t.me/TooniverseOfficial" target="_blank" rel="noreferrer" data-i="btnJoin">Join Telegram</a>
          <a class="btn outline" href="https://x.com/TooniverseToon" target="_blank" rel="noreferrer">Twitter</a>
          <a class="btn outline" href="#" data-i="btnDex" target="_blank" rel="noreferrer">Chart / Buy</a>
        </div>
      </div>

      <div class="art card" aria-hidden="true">
        <div class="orbit one"></div><div class="orbit two"></div><div class="face">üòä</div>
      </div>
    </div>
  </section>

  <section>
    <div class="grid">
      <!-- HOLDER GATE (Wallet Connect + Token Check) -->
      <div class="card gate">
        <h2 data-i="sec3">Members area</h2>
        <p class="muted" data-i="gateDesc">Token-gated hub for holders: early art, polls, and community drops.</p>

        <div class="row">
          <button id="btnConnect" class="btn">Connect Wallet</button>
          <button id="btnVerify" class="btn outline">Verify Holdings</button>
          <span id="addr" class="muted"></span>
        </div>

        <div id="status" class="notice" style="margin-top:10px">
          <strong>Status:</strong> Wallet not connected.
        </div>
        <small class="muted">Mint: <code id="mint"></code> ‚Ä¢ Min: <code id="min"></code></small>
      </div>

      <div class="card">
        <h2 data-i="sec4">Roadmap (living story)</h2>
        <ul>
          <li>Chapter 0 ‚Äî Launch visuals & socials.</li>
          <li>Chapter 1 ‚Äî Meme drops + community challenges.</li>
          <li>Chapter 2 ‚Äî Holders‚Äô hub with polls & perks.</li>
        </ul>
      </div>
    </div>
  </section>
</main>

<footer class="wrap" style="border-top:1px solid rgba(255,255,255,.08);padding:24px 0;color:#94a3b8">
  ¬© <span id="year"></span> TOONIVERSE
</footer>

<!-- Solana Web3 & wallet adapter (CDN) -->
<script type="module">
  // ====== CONFIG ======
  const TOONV_MINT = "EGz1b9tBWKP7VMV7PVZUjPcZhQaReVHJuDugDuSGpump";  
  const MIN_REQUIRED = 3000000; // 3M TOONV
  const RPC_URL = "https://api.mainnet-beta.solana.com";

  // ====== UI helpers ======
  const $ = id => document.getElementById(id);
  const setStatus = (html, ok=false) => {
    const el = $("status");
    el.className = ok ? "notice ok" : "notice";
    el.innerHTML = html;
  };
  $("year").textContent = new Date().getFullYear();
  $("mint").textContent = TOONV_MINT;
  $("min").textContent = MIN_REQUIRED.toLocaleString();

  // ====== Wallet Connect + Holder Check ======
  import { Connection, PublicKey } from "https://cdn.jsdelivr.net/npm/@solana/web3.js@1.95.3/+esm";

  let wallet = null;      
  let pubkey = null;      

  function getProvider() {
    if (window.solana?.isPhantom) return window.solana;
    if (window.solflare?.isSolflare) return window.solflare;
    if (window.okxwallet?.solana) return window.okxwallet.solana;
    return null;
  }

  async function connectWallet() {
    wallet = getProvider();
    if (!wallet) {
      setStatus("No Solana wallet found. Install <b>Phantom</b> or <b>Solflare</b>.", false);
      return;
    }
    try {
      const res = await wallet.connect();
      pubkey = new PublicKey(res.publicKey ?? wallet.publicKey);
      $("addr").textContent = `${pubkey.toBase58().slice(0,4)}‚Ä¶${pubkey.toBase58().slice(-4)}`;
      setStatus("Wallet connected. You can now verify holdings.");
    } catch(e){
      setStatus("Connection cancelled.", false);
    }
  }

  async function verifyHoldings() {
    if (!pubkey) return setStatus("Connect wallet first.", false);
    try {
      setStatus("Checking on-chain balance‚Ä¶");
      const conn = new Connection(RPC_URL, "confirmed");
      const mintPk = new PublicKey(TOONV_MINT);

      const resp = await conn.getTokenAccountsByOwner(pubkey, { mint: mintPk }, { commitment:"confirmed" });
      let amount = 0n;
      for (const acc of resp.value) {
        const info = await conn.getParsedAccountInfo(acc.pubkey);
        const data = info.value?.data?.parsed?.info;
        if (data?.tokenAmount?.amount) amount += BigInt(data.tokenAmount.amount);
      }
      const ok = amount >= BigInt(MIN_REQUIRED);
      if (ok) setStatus(`‚úÖ Holder verified: you have at least ${MIN_REQUIRED.toLocaleString()} TOONV.`, true);
      else setStatus(`‚ùå Not enough TOONV. Required: ${MIN_REQUIRED.toLocaleString()}.`, false);
    } catch(err){
      setStatus("Error while checking balance. Try again later.", false);
    }
  }

  $("btnConnect").onclick = connectWallet;
  $("btnVerify").onclick  = verifyHoldings;
</script>
</body>
</html>
